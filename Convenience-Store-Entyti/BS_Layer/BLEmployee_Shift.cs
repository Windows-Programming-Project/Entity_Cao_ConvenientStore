using System;
using System.Collections.Generic;
using System.Data;
using System.Linq;
using System.Runtime.CompilerServices;
using System.Runtime.Remoting.Contexts;
using System.Text;
using System.Threading.Tasks;
using Convenience_Store_Entyti;
using Convenience_Store_Entyti.UserControlGroup;



namespace Convenience_Store_Entyti.BS_Layer
{
    class BLEmployee_Shift
    {
        public DataTable TakeEmployeeShift()
        {
           
            var qlstoreEntity = new ConvenienceStoreManagementEntities1( UserControlAcountLogin.UserLogin, UserControlAcountLogin.Password);
            
            var Employees = from p in qlstoreEntity.Employees select p;
          
            DataTable dt = new DataTable();
            dt.Columns.Add("eID");
            dt.Columns.Add("shID");

            // Assuming you have access to the Employee and Shift instances, you can loop through them to populate the DataTable.
            foreach (var employee in Employees)
            {
                foreach (var shift in employee.Shifts)
                {
                    dt.Rows.Add(employee.eID, shift.shID);
                }
            }
        
            return dt;
        }
    }

}
